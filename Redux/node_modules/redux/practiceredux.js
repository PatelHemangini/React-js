const redux = require('redux');
// const createStore = redux.createStore;
//state
const initialState = {
    Cakes: 100,
    Chocolates: 300,
    Pastry: 400
}



//action
const Action_Buy_Cake = "Action_Buy_Cake"
//action nu function bnavyu ne ama object pass karvano ne eni enadar type ma action.
const buyCake = { type: Action_Buy_Cake }

const Action_Buy_Chocolates = "Action_Buy_Chocolates"
const buyChocolates = { type: Action_Buy_Chocolates }

const Action_Buy_Pastry = "Action_Buy_Pastry"
const buyPastry = { type: Action_Buy_Pastry }




//reducer
const bakeryManager = (state = initialState, action) => {
    switch (action.type) {
        case Action_Buy_Cake:
            return {
                ...state,
                Cakes: state.Cakes - 1
            }
        case Action_Buy_Chocolates:
            return {
                ...state,
                Chocolates: state.Chocolates - 1
            }
        case Action_Buy_Pastry:
            return {
                ...state,
                Pastry: state.Pastry - 1
            }



        default:
            return state
    }
}

//store
const store = redux.createStore(bakeryManager)
console.log(store.getState());
const unsubscribe = store.subscribe(()=>(console.log(store.getState())))
store.dispatch(buyCake)
store.dispatch(buyChocolates)
store.dispatch(buyPastry)


unsubscribe()